(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.HOtpInput={},i.Vue))})(this,function(i,t){"use strict";const h=["element-num","id","onUpdate:modelValue","type","disabled","readonly","onKeyup","onPaste","onFocus"],g=t.defineComponent({__name:"HOtpInput",props:{length:{type:Number,required:!0,default:6},defaultColor:{type:String,default:"#eeeeee"},mainColor:{type:String,default:"#00dc82",required:!1},fontColor:{type:String,default:"black",required:!1},allowPaste:{type:Boolean,default:!0,required:!1},onlyNumber:{type:Boolean,default:!1},isRefresh:{type:Boolean,default:!1},type:{type:String,default:"password",validator:u=>["password","text"].includes(u)},autoFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},wrapperClassName:{type:String,default:""},inputClassName:{type:String,default:""}},emits:["onFinish","onChange"],setup(u,{expose:C,emit:p}){const l=u;t.watch(()=>l.isRefresh,()=>{a.value=[],n[0].focus(),c.value=-1});const n={},a=t.ref([]),c=t.ref(-1);C({clear:()=>{a.value=[],n[0].focus(),c.value=-1}});const b=e=>{if(!l.onlyNumber)return;const o=e.charCode||e.keyCode||0;o===8||o===46||o===86||o===91||o>=48&&o<=57||o>=96&&o<=105||e.preventDefault()},B=(e,o)=>{n[e]=o},w=e=>`hl-${e+1}`,y=e=>`3px solid ${a.value[e]?l.mainColor:l.defaultColor}`,F=e=>{a.value[e]&&a.value[e]!==""&&e<l.length?(c.value=e+1,n[e+1]&&n[e+1].focus()):e>0&&(!a.value[e]||a.value[e]==="")&&n[e-1]&&(n[e-1].focus(),c.value=e-1)},k=e=>{n[e].select()},S=e=>{var o;if(l.allowPaste){const f=((o=e==null?void 0:e.clipboardData)==null?void 0:o.getData("text/plain"))||"",r=f.split("");let s=!0;if(l.onlyNumber&&(s=new RegExp(`^\\d{${l.length}}$`).test(f)),s){for(let d=0;d<l.length;d++)I(d,r[d]);n[l.length-1].focus(),m()}}},I=(e,o)=>{a.value[e]=o},m=()=>{const e=a.value.join("");p("onChange",e),e.length===l.length&&(p("onFinish",e),c.value=-1)};t.onMounted(()=>{l.autoFocus&&n&&n[0].focus()});const N=e=>l.outlined?{outline:V(c.value===e),borderBottom:"none",borderRadius:"2px"}:{borderBottom:y(e)},V=e=>{const o=e?l.mainColor:l.defaultColor;return l.outlined?`2px solid ${o}`:"none"};return(e,o)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["hl-input-container m-auto text-center",u.wrapperClassName])},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(u.length,(f,r)=>t.withDirectives((t.openBlock(),t.createElementBlock("input",{"element-num":f,id:w(r),ref_for:!0,ref:s=>B(r,s),key:r,"onUpdate:modelValue":s=>a.value[r]=s,type:u.type,maxlength:"1",style:t.normalizeStyle({borderBottom:y(r),color:u.fontColor,...N(r)}),class:t.normalizeClass(u.inputClassName),disabled:u.disabled,readonly:u.readonly,contenteditable:"true",onKeydown:o[0]||(o[0]=s=>b(s)),onKeyup:s=>F(r),onPaste:t.withModifiers(S,["prevent"]),onInput:o[1]||(o[1]=s=>m()),onFocus:s=>k(r)},null,46,h)),[[t.vModelDynamic,a.value[r]]])),128))],2))}});i.HOtpInput=g,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
